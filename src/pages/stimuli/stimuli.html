<ion-header>
  <ion-navbar>
    <ion-buttons end>

      <button *ngIf="mode == 0 && !revealedTarget" ion-button outline (click)="revealTarget()">
        {{'STIMULI.REVEAL_TARGET' | translate}}
      </button>
      <button *ngIf="mode == 0 && revealedTarget" ion-button outline color="danger" (click)="unrevealTarget()">
        {{'STIMULI.UNREVEAL_TARGET' | translate}}
      </button>

      <button *ngIf="mode == 0" ion-button outline (click)="askQuestion()">
        {{'STIMULI.ENTER_QUESTION_MODE' | translate}}
      </button>
      <button *ngIf="mode == 1" ion-button outline color="danger" (click)="cancelAskQuestion()">
        {{'STIMULI.CANCEL' | translate}}
      </button>
      <button *ngIf="mode == 1" ion-button outline color="secondary" (click)="endAskQuestion()">
        {{'STIMULI.END_QUESTION_MODE' | translate}} ({{'STIMULI.QUESTION_N' | translate}} {{questionCounter}})
      </button>

      <button *ngIf="mode == 0" ion-button outline (click)="guessTarget()">
        {{'STIMULI.ENTER_GUESS_MODE' | translate}}
      </button>
      <button *ngIf="mode == 2" ion-button outline color="danger" (click)="cancelGuessTarget()">
        {{'STIMULI.CANCEL' | translate}}
      </button>
      <button *ngIf="mode == 2" ion-button outline color="secondary" (click)="endGuessTarget()">
        {{'STIMULI.END_GUESS_MODE' | translate}} ({{'STIMULI.GUESS_N' | translate}} {{guessCounter}})
      </button>

    </ion-buttons>
    <ion-buttons end>
      <button *ngIf="!nextConfirmed" ion-button outline color="danger" (click)="confirmNext()">{{'STIMULI.END' | translate}}</button>
      <button *ngIf="nextConfirmed" ion-button outline color="danger" (click)="next()" color="secondary">{{'STIMULI.END_CONFIRM' | translate}}</button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-grid id="stimuli-grid">
    <ion-row>
      <ion-col *ngFor="let stim of stimuli.stims | slice:0:4">
        <img src="assets/img/{{stim.id}}.png" (click)="stimClicked(stim)" [style.border-color]="stim.borderColor" [class.target]="revealedTarget && stim.isTarget" alt="">
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col *ngFor="let stim of stimuli.stims | slice:4:8">
        <img src="assets/img/{{stim.id}}.png" (click)="stimClicked(stim)" [style.border-color]="stim.borderColor" [class.target]="revealedTarget && stim.isTarget" alt="">
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col *ngFor="let stim of stimuli.stims | slice:8:12">
        <img src="assets/img/{{stim.id}}.png" (click)="stimClicked(stim)" [style.border-color]="stim.borderColor" [class.target]="revealedTarget && stim.isTarget" alt="">
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col *ngFor="let stim of stimuli.stims | slice:12:16">
        <img src="assets/img/{{stim.id}}.png" (click)="stimClicked(stim)" [style.border-color]="stim.borderColor" [class.target]="revealedTarget && stim.isTarget" alt="">
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>